# A0125415N
###### src\parser\CommandParser.java
``` java
package parser;

public class CommandParser {

    public enum COMMAND {
        ADD, EDIT, DELETE, EXIT, MAIN, HIDE, SHOW, FLOAT, SEARCH, JUMP, LINK, DONE, SAVETO, LOADFROM, UNDO, THEME, INVALID;
    };

    public CommandParser() {

    }

    /**
     * takes in a string and retuns the related command
     * 
     * @param input
     * @return COMMAND enum
     */
    public COMMAND getCommand(String input) {
        String inputCmd = ParserCommons.getFirstWord(input);
        COMMAND returnVal = COMMAND.INVALID;
        if (inputCmd.equalsIgnoreCase("add")) {
            returnVal = COMMAND.ADD;
        } else if (inputCmd.equalsIgnoreCase("edit")) {
            returnVal = COMMAND.EDIT;
        } else if (inputCmd.equalsIgnoreCase("delete")) {
            returnVal = COMMAND.DELETE;
        } else if (inputCmd.equalsIgnoreCase("exit")) {
            returnVal = COMMAND.EXIT;
        } else if (inputCmd.equalsIgnoreCase("main")) {
            returnVal = COMMAND.MAIN;
        } else if (inputCmd.equalsIgnoreCase("hide")) {
            returnVal = COMMAND.HIDE;
        } else if (inputCmd.equalsIgnoreCase("show")) {
            returnVal = COMMAND.SHOW;
        } else if (inputCmd.equalsIgnoreCase("float")) {
            returnVal = COMMAND.FLOAT;
        } else if (inputCmd.equalsIgnoreCase("search")) {
            returnVal = COMMAND.SEARCH;
        } else if (inputCmd.equalsIgnoreCase("jump")) {
            returnVal = COMMAND.JUMP;
        } else if (inputCmd.equalsIgnoreCase("link")) {
            returnVal = COMMAND.LINK;
        } else if (inputCmd.equalsIgnoreCase("done")) {
            returnVal = COMMAND.DONE;
        } else if (inputCmd.equalsIgnoreCase("saveto")) {
            returnVal = COMMAND.SAVETO;
        } else if (inputCmd.equalsIgnoreCase("undo")) {
            returnVal = COMMAND.UNDO;
        } else if (inputCmd.equalsIgnoreCase("theme")) {
            returnVal = COMMAND.THEME;
        } else if (inputCmd.equalsIgnoreCase("loadfrom")) {
            returnVal = COMMAND.LOADFROM;
        }
        return returnVal;
    }

    /**
     * takes the first word and adds XML to it
     * 
     * @param input
     * @return xml of input
     */
    public String xmlFirstWord(String input) {
        String inputFirstWord = ParserCommons.getFirstWord(input);
        String returnStrVal = input;
        if (!inputFirstWord.trim().equals("")) {
            returnStrVal = input.substring(inputFirstWord.length());
            returnStrVal = "<" + XMLParser.CMD_TAG + ">" + inputFirstWord + "</" + XMLParser.CMD_TAG + ">"
                    + returnStrVal;
        }
        return returnStrVal;
    }
}
```
###### src\parser\DateParser.java
``` java
package parser;

import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.List;
import java.util.Scanner;

import com.joestelmach.natty.*;

public class DateParser {

    private static final char DOUBLEQUOTE = '\"';
    private static final char SINGLEQUOTE = '\'';
    private static final int CONVERSION_FROM_GREGORIAN_CAL = 1;
    private static final char CHAR_ZERO = '0';
    private static final String SPACE_DELIM = " ";
    private static final char FWD_SLASH = '/';
    private static final char DASH = '-';

    private final String DATE_REGEX_2DAY_2MONTH = "\\d{2}[\\/-]\\d{2}(\\/|-|)(?:\\d{4}|\\d{2}|\\d{0})";
    private final String DATE_REGEX_1DAY_2MONTH = "\\d{1}[\\/-]\\d{2}(\\/|-|)(?:\\d{4}|\\d{2}|\\d{0})";
    private final String DATE_REGEX_2DAY_1MONTH = "\\d{2}[\\/-]\\d{1}(\\/|-|)(?:\\d{4}|\\d{2}|\\d{0})";
    private final String DATE_REGEX_1DAY_1MONTH = "\\d{1}[\\/-]\\d{1}(\\/|-|)(?:\\d{4}|\\d{2}|\\d{0})";

    private final int START_DAY_INDEX = 0;
    private final int END_DAY_INDEX = 2;
    private final int START_MONTH_INDEX = 3;
    private final int END_MONTH_INDEX = 5;
    private final int START_YEAR_INDEX = 6;

    private PrintStream printStreamOriginal = System.err;
    private Parser nattyParser = new Parser();

    public DateParser() {
        // init the parser so that there's no lag later
        hideErr();
        nattyParser.parse("today");
        showErr();
    }

    /**
     * @param input
     * @return List of all possible dates
     */
    public List<Date> parseToList(String inputDate) {
        ArrayList<Integer> locationQuote = new ArrayList<Integer>();
        for (int i = 0; i < inputDate.length(); i++) {
            char temp = inputDate.charAt(i);
            if (temp == DOUBLEQUOTE) {
                locationQuote.add(i);
            }
        }
        for (int i = 0; i < locationQuote.size(); i = i + 2) {
            if (i + 1 < locationQuote.size()) {
                inputDate = inputDate.substring(0, locationQuote.get(i))
                        + inputDate.substring(locationQuote.get(i + 1));
            }
        }
        inputDate = convertFormalDates(inputDate);
        List<Date> returnDateList = new ArrayList<Date>();
        hideErr();
        List<DateGroup> dateGroups = nattyParser.parse(inputDate);
        showErr();
        for (int i = 0; i < dateGroups.size(); i++) {
            List<Date> dates = dateGroups.get(i).getDates();
            for (int j = 0; j < dates.size(); j++) {
                if (dates.size() == 1) {
                    Calendar toCheck = Calendar.getInstance();
                    toCheck.setTime(dates.get(j));
                    toCheck.clear(Calendar.SECOND);
                    toCheck.clear(Calendar.MILLISECOND);
                    Calendar curr = Calendar.getInstance();
                    curr.set(toCheck.get(Calendar.YEAR), toCheck.get(Calendar.MONTH),
                            toCheck.get(Calendar.DATE));
                    curr.clear(Calendar.SECOND);
                    curr.clear(Calendar.MILLISECOND);
                    if (curr.equals(toCheck)) {
                        toCheck.set(Calendar.HOUR_OF_DAY, 0);
                        toCheck.set(Calendar.MINUTE, 0);
                        returnDateList.add(toCheck.getTime());
                        toCheck.set(Calendar.HOUR_OF_DAY, 23);
                        toCheck.set(Calendar.MINUTE, 59);
                        returnDateList.add(toCheck.getTime());
                    } else {
                        returnDateList.add(dates.get(j));
                    }
                } else {
                    Calendar addDate = Calendar.getInstance();
                    addDate.setTime(dates.get(j));
                    addDate.clear(Calendar.SECOND);
                    addDate.clear(Calendar.MILLISECOND);
                    returnDateList.add(addDate.getTime());
                }
            }
        }

        return returnDateList;
    }

    /**
     * takes in a string with date and adds XML to the date portions
     * 
     * @param input String with date in it
     * @return String of xmlDate
     */
    public String xmlDate(String input) {
        hideErr();
        input = convertFormalDates(input);
        String workingStr = "";

        workingStr += input;
        String returnVal = new String(input);
        ArrayList<Integer> locationQuote = new ArrayList<Integer>();
        for (int i = 0; i < workingStr.length(); i++) {
            char temp = workingStr.charAt(i);
            if ((temp == SINGLEQUOTE) || (temp == DOUBLEQUOTE)) {
                locationQuote.add(i);
            }
        }

        for (int i = 0; i < locationQuote.size(); i = i + 2) {
            if (i + 1 < locationQuote.size()) {
                workingStr = workingStr.substring(0, locationQuote.get(i))
                        + workingStr.substring(locationQuote.get(i + 1) + 1, workingStr.length() - 1);
            } else {
                workingStr = workingStr.substring(0, locationQuote.get(i));
            }
        }

        workingStr = workingStr.replace(SINGLEQUOTE, ' ');
        workingStr = workingStr.replace(DOUBLEQUOTE, ' ');

        List<DateGroup> dateGroups = nattyParser.parse(workingStr);
        for (int i = 0; i < dateGroups.size(); i++) {
            List<Date> dates = dateGroups.get(i).getDates();
            returnVal = returnVal.replace(dateGroups.get(i).getText(), "<" + XMLParser.DATE_TAG + ">"
                    + convertFormalDates(dateGroups.get(i).getText()) + "</" + XMLParser.DATE_TAG + ">");
        }
        // System.out.println("test" +returnVal);
        showErr();
        // returnVal = returnVal.replace('\'', ' ');
        return returnVal;
    }

    /**
     * Convert all formal dates from SG to US
     * 
     * @param input
     * @return String formal date in a US format
     */
    private String convertFormalDates(String input) {
        String convertedFormalDates = new String();
        Scanner sc = new Scanner(input);
        sc.useDelimiter(SPACE_DELIM);
        while (sc.hasNext()) {
            String temp = sc.next();
            convertedFormalDates += convertSGFormalDateToUS(temp) + SPACE_DELIM;
        }
        return convertedFormalDates;
    }

    /**
     * convert a single date from SG to US
     * 
     * @param sgDate
     *            a String in US dates
     * @return a String in US dates
     */
    private String convertSGFormalDateToUS(String sgDate) {
        String usDate = sgDate;
        // .replace(FWD_SLASH, DASH);
        // usDate = sgDate.replace(DOT, DASH);
        usDate = addZero(usDate);

        if (usDate.matches(DATE_REGEX_2DAY_2MONTH)) {
            if (usDate.contains("-")) {
                usDate = swapDayMonth(usDate, DASH);
            } else if (usDate.contains("/")) {
                usDate = swapDayMonth(usDate, FWD_SLASH);
            }
        }
        return usDate;

    }

    /**
     * takes in a formal date and if it does not follow DD/MM/YYYY, it will add
     * the required zeros
     * 
     * @param date
     * @return String date with format DD/MM/YYYY
     */
    private String addZero(String date) {
        boolean shouldAddToDay = false;
        boolean shouldAddToMonth = false;
        if (date.matches(DATE_REGEX_1DAY_1MONTH)) {
            shouldAddToDay = true;
            shouldAddToMonth = true;
        } else if (date.matches(DATE_REGEX_1DAY_2MONTH)) {
            shouldAddToDay = true;
        } else if (date.matches(DATE_REGEX_2DAY_1MONTH)) {
            shouldAddToMonth = true;
        }

        if (shouldAddToDay) {
            date = CHAR_ZERO + date;
        }
        if (shouldAddToMonth) {
            if (date.contains("-")) {
                date = date.substring(START_DAY_INDEX, END_DAY_INDEX) + DASH + CHAR_ZERO
                        + date.substring(START_MONTH_INDEX);
            } else if (date.contains("/")) {
                date = date.substring(START_DAY_INDEX, END_DAY_INDEX) + FWD_SLASH + CHAR_ZERO
                        + date.substring(START_MONTH_INDEX);
            }
        }
        return date;
    }

    /**
     * Swaps day and month of a date in string with format DD/MM/YYYY
     * 
     * @param input
     * @param seperator
     *            Character which is used to seperate day month and year
     * @return the input with the day and month swapped
     */
    private String swapDayMonth(String input, char seperator) {
        String usDate;
        String day;
        String month;
        String year = new String();
        day = input.substring(START_DAY_INDEX, END_DAY_INDEX);
        month = input.substring(START_MONTH_INDEX, END_MONTH_INDEX);
        if (START_YEAR_INDEX < input.length()) {
            year = input.substring(START_YEAR_INDEX, input.length());
        } else {
            // year = getYear(day, month);
        }
        if (year.length() > 0) {
            usDate = month + seperator + day + seperator + year;
        } else {
            usDate = month + seperator + day;
        }
        return usDate;
    }

    /**
     * Checks the date and sets the year to next year if it the date has already
     * passed
     * 
     * @param dayStr
     * @param monthStr
     * @return String year
     */
    private String getYear(String dayStr, String monthStr) {
        int currYear = Calendar.getInstance().get(Calendar.YEAR);
        int currDay = Calendar.getInstance().get(Calendar.DATE);
        int currMonth = Calendar.getInstance().get(Calendar.MONTH) + CONVERSION_FROM_GREGORIAN_CAL;
        int inputMonth = Integer.parseInt(monthStr);
        int inputDay = Integer.parseInt(dayStr);
        /*
         * if (currMonth > inputMonth) { currYear++; } else if ((currMonth ==
         * inputMonth) && (currDay > inputDay)) { currYear++; }
         */
        return Integer.toString(currYear);
    }

    /**
     * Hide error messages
     */
    private void hideErr() {
        System.setErr(new PrintStream(new OutputStream() {
            @Override
            public void write(int b) throws IOException {
            }
        }));
    }

    /**
     * shows error messages
     */
    private void showErr() {
        System.setErr(printStreamOriginal);
    }

    
}
```
###### src\parser\GarbageCollectorParser.java
``` java
package parser;

import java.util.ArrayList;
import java.util.Scanner;

public class GarbageCollectorParser {
	private static final String ID_CONST = "ID";
	private static final char HEXCHAR = '#';
	private ArrayList<String> hashes= new ArrayList<String>();
	public GarbageCollectorParser(){
	}
	
	/**
	 * adds xml to anything that has hashtags
	 * @param String input
	 * @return input with xml around any word with has in front
	 */
	public String xmlHash(String input){
		String toReplace = XMLParser.removeAllAttributes(input);
		hashes = new ArrayList<String>();
		Scanner sc = new Scanner(toReplace);
		while(sc.hasNext()){
			String temp = sc.next();
			if((temp.length()!=1)&&(!temp.contains(ID_CONST))){
				if(temp.charAt(0)==HEXCHAR){
					hashes.add(temp);
					input = input.replace(temp, "<"+XMLParser.HASH_TAG+">"+temp+"</"+XMLParser.HASH_TAG+">");
				}	
			}
		}
		return input;
	}
	
	/**
	 * get the hashes in the string, precondition: run xmlHash first
	 * @return ArrayList of hashes in string
	 */
	public ArrayList<String> getHashes(){
		return hashes;
	}
	
	/**
	 * add xml to anything that hasn't already got xml.
	 * @param String input
	 * @return input with xml on any other not yet defined fields
	 */
	public String xmlAllOthers(String input){
		String toReplace = XMLParser.removeAllAttributes(input);
		Scanner sc = new Scanner(toReplace);
		while(sc.hasNext()){
			String temp = sc.next();
			if((temp.length()!=1)&&(!temp.contains(ID_CONST))){
					input = input.replace(temp, "<"+XMLParser.OTHERS_TAG+">"+temp+"</"+XMLParser.OTHERS_TAG+">");
					
			}
		}
		String lastWord = ParserCommons.getLastWord(input);
		String firstWord = ParserCommons.getFirstWord(XMLParser.removeAllTags(input));
		if((lastWord.length()==1)&&(!firstWord.equals(lastWord))&&(!lastWord.contains(ID_CONST))){
			input = input.substring(0, input.length()-2)+"<"+XMLParser.OTHERS_TAG+">"+lastWord+"</"+XMLParser.OTHERS_TAG+">";
		}
		return input;
	}
}
```
###### src\parser\IdParser.java
``` java
package parser;

import java.util.Scanner;

public class IdParser {
    private static final String ID_CONST = "ID";
    private String id;
    private String id2;
    private final String TWO_ID_REGEX = "[I][D][0-9a-zA-Z]+[-][I][D][0-9a-zA-Z]+";

    public IdParser() {
        id = null;
        id2 = null;
    }

    public String getId(String input) {
        if (hasIdKey(input)) {
            Scanner sc = new Scanner(input);
            while (sc.hasNext()) {
                String test = sc.next();
                if (hasIdKey(test)) {
                    if (test.matches(TWO_ID_REGEX)) {
                        setId1And2(test);
                    } else {
                        id = test.substring(2, test.length());
                    }
                }
            }
        }
        return id;
    }

    private void setId1And2(String test) {
        String[] temp = test.split("-");
        id = temp[0].substring(2, temp[0].length());
        id2 = temp[1].substring(2, temp[1].length());
    }

    public Pair<String, String> getLinkId(String input) {
        getId(input);
        return new Pair<String, String>(id, id2);
    }

    public String xmlId(String input) {
        getId(input);
        if (id2 != null) {
            input = input.replace(ID_CONST + id + "-" + ID_CONST + id2, "<" + XMLParser.ID_TAG + ">"
                    + ID_CONST + id + "-" + ID_CONST + id2 + "</" + XMLParser.ID_TAG + ">");
        } else if (id != null) {
            input = input.replace(ID_CONST + id,
                    "<" + XMLParser.ID_TAG + ">ID" + id + "</" + XMLParser.ID_TAG + ">");
        }

        return input;
    }

    private boolean hasIdKey(String input) {
        if (input.contains(ID_CONST)) {
            return true;
        } else {
            return false;
        }
    }
}
```
###### src\parser\InformationParser.java
``` java
package parser;

public class InformationParser {
    private String title;
    private String description;

    public InformationParser() {

    }

    /**
     * Takes a String input and returns input in XML
     * 
     * @param input, a String with with Date and Command already parsed
     * @return String in xml form
     */
    public String xmlTitleAndDesc(String input) {
        String working = XMLParser.removeAllAttributes(input);
        boolean success = setInformation(working);
        if (success) {
            if ((title != null) && (title.length() != 1)) {
                input = input.replace(title,
                        "<" + XMLParser.TITLE_TAG + ">" + title + "</" + XMLParser.TITLE_TAG + ">");
            }
            if ((description != null) && (description.length() != 1)) {
                input = input.replace(description,
                        "<" + XMLParser.DESC_TAG + ">" + description + "</" + XMLParser.DESC_TAG + ">");
            }
        }
        input = input.replace(":", "<" + XMLParser.OTHERS_TAG + ">:</" + XMLParser.OTHERS_TAG + ">");
        return input;
    }

    /**
     * Automatically takes input(non-XML) and returns the success status
     * 
     * @param input (non-XML)
     * @return success
     */
    public boolean setInformation(String input) {
        input = XMLParser.removeAllAttributes(input);
        boolean success = false;
        // System.out.println(input);
        if (!input.trim().equalsIgnoreCase(":")) {
            String[] inputs = input.split(":");
            if (inputs.length == 2) {
                if (!inputs[0].trim().isEmpty()) {
                    if (!inputs[0].contains("ID")) {
                        setTitle(inputs[0].trim());
                    }
                }
                // System.out.println(inputs[1]);
                if (!inputs[1].trim().isEmpty()) {
                    if (!inputs[1].contains("ID")) {
                        setDescription(inputs[1].trim());
                    }
                }
            } else {
                if (!inputs[0].trim().isEmpty()) {
                    for (int i = 0; i < inputs.length; i++) {
                        if (!inputs[i].contains("ID")) {
                            setTitle(inputs[i].trim());
                        }
                    }
                }
            }
            success = true;
        }
        return success;
    }

    /**
     * getter for title
     * 
     * @return title
     */
    public String getTitle() {
        return title;
    }

    /**
     * setter for title
     * 
     * @param title
     */
    public void setTitle(String title) {
        this.title = title;
    }

    /**
     * getter for description
     * 
     * @return description
     */
    public String getDescription() {
        return description;
    }

    /**
     * setter for description
     * 
     * @param description
     */
    public void setDescription(String description) {
        this.description = description;
    }

}
```
###### src\parser\InputParser.java
``` java
package parser;

import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.List;
import java.util.Scanner;

import entity.TaskEntity;
import parser.CommandParser.COMMAND;

public class InputParser {
    private String input;
    private DateParser dateParser;
    private CommandParser cmdParser;
    private InformationParser infoParser;
    private IdParser idParser;
    private GarbageCollectorParser gcParser;

    // private static Logger logger = Logger.getLogger("InputParser");

    /**
     * Intializes parser and creates individual command parsers
     * 
     * @param input String to be parsed
     */
    public InputParser(String input) {
        /**
         * try{
         * Handler fh = new FileHandler("inputParser.log");
         * logger.addHandler(fh);
         * logger.setLevel(Level.FINEST);
         * }catch(IOException e){
         * 
         * }
         * logger.log(Level.INFO,"InputParser init");
         * 
         **/
        input = XMLParser.removeAllTags(input);
        setInput(input);
        dateParser = new DateParser();
        cmdParser = new CommandParser();
        infoParser = new InformationParser();
        idParser = new IdParser();
        gcParser = new GarbageCollectorParser();
    }

    /**
     * changes input to XML form
     */
    public void addXML() {
        // DO NOT CHANGE ORDER!!
        // logger.log(Level.INFO,"Add xml to input");
        assert (input != null) : "Input is null";

        input = XMLParser.removeAllTags(input);

        COMMAND given = cmdParser.getCommand(input);
        // System.out.println("before"+input);
        addXMLDate();// problem with quotes lie here!
        // System.out.println("after date"+input);
        addXMLCmd();
        // System.out.println("after cmd"+input);
        if ((given != COMMAND.SEARCH) && (given != COMMAND.SAVETO) && (given != COMMAND.THEME)
                && (given != COMMAND.LOADFROM)) {
            addXMLID();
            // System.out.println("after ID"+input);
            addXMLTitleDesc();
            // System.out.println("after title"+input);
        }
        addXMLGarbage();
        // System.out.println("after"+input);

    }

    public void removeId() {
        input = XMLParser.removeAllTags(input);
        // System.out.println("removeId1 "+input);
        addXMLID();
        input = XMLParser.removeAllAttributes(input);
        // System.out.println("removeId2 "+input);

    }

    private void addXMLGarbage() {
        input = gcParser.xmlAllOthers(input);
    }

    private void addXMLID() {
        input = idParser.xmlId(input);
    }

    public String getSearchString() {
        input = XMLParser.removeAllTags(input);
        addXMLCmd();
        input = XMLParser.removeAllAttributes(input);
        return input.trim();
    }

    /**
     * adds xml to title
     */
    private void addXMLTitleDesc() {
        input = gcParser.xmlHash(input);
        input = infoParser.xmlTitleAndDesc(input);
    }

    /**
     * adds xml to date
     */
    private void addXMLDate() {
        // System.out.println("before xml"+ input);
        input = dateParser.xmlDate(input);
        // System.out.println("after xml2"+ input);
    }

    /**
     * adds xml to cmd(first word)
     */
    private void addXMLCmd() {
        input = cmdParser.xmlFirstWord(input);
    }

    /**
     * getter for input
     * 
     * @return input
     */
    public String getInput() {
        return input;
    }

    /**
     * setter for input
     * 
     * @param input
     */
    public void setInput(String input) {
        this.input = input;
    }

    /**
     * Parses the input and returns an enum COMMAND
     * 
     * @return respective COMMAND
     */
    public COMMAND getCommand() {
        COMMAND returnEnum = cmdParser.getCommand(input);
        return returnEnum;
    }

    /**
     * generates a list of tasks from the input, with no time
     * 
     * @return ArrayList of tasks
     */
    public ArrayList<TaskEntity> getTask() {
        input = XMLParser.removeAllTags(input);
        if (input.trim().equalsIgnoreCase("edit")) {
            return new ArrayList<TaskEntity>();
        }
        ArrayList<TaskEntity> tasks = new ArrayList<TaskEntity>();
        if (input.trim().equals("")) {
            // logger.log(Level.WARNING, "Input is empty", new
            // IllegalArgumentException("input is empty"));
        } else {
            // System.out.println("TEST"+input);
            List<Date> dates = dateParser.parseToList(input);
            // System.out.println("TEST"+input);
            addXMLDate();
            addXMLCmd();
            input = gcParser.xmlHash(input);
            ArrayList<String> hashes = gcParser.getHashes();
            infoParser.setInformation(this.input);
            String name = infoParser.getTitle();
            String desc = infoParser.getDescription();
            if (dates.size() == 0) {
                TaskEntity toAdd = new TaskEntity(name, desc);
                toAdd.setFloating(true);
                for (int i = 0; i < hashes.size(); i++) {
                    toAdd.addHashtag(hashes.get(i));
                }
                tasks.add(toAdd);
            } else if (dates.size() == 2) {

                Calendar c = Calendar.getInstance();
                c.setTime(dates.get(0));
                c.clear(Calendar.SECOND);
                c.clear(Calendar.MILLISECOND);

                Calendar c2 = Calendar.getInstance();
                c2.setTime(dates.get(1));
                c2.clear(Calendar.SECOND);
                c2.clear(Calendar.MILLISECOND);
                /*
                 * System.out.println("START"+c.getTime());
                 * System.out.println(c2.getTime());
                 * 
                 * if(c2.before(c)){
                 * int hour = c2.get(Calendar.HOUR_OF_DAY);
                 * int min = c2.get(Calendar.MINUTE);
                 * c2.setTime(c.getTime());
                 * c2.set(Calendar.HOUR_OF_DAY, hour);
                 * c2.set(Calendar.MINUTE, min);
                 * c2.clear(Calendar.SECOND);
                 * c2.clear(Calendar.MILLISECOND);
                 * c2.add(Calendar.DATE, 1);
                 * }
                 * 
                 * //System.out.println("FULL DAY"+checkFullDay(c,c2));
                 * 
                 * System.out.println(c.getTime());
                 * System.out.println(c2.getTime());
                 */
                TaskEntity toAdd = new TaskEntity(name, c, c2, checkFullDay(c, c2), desc);
                for (int j = 0; j < hashes.size(); j++) {
                    toAdd.addHashtag(hashes.get(j));
                }
                tasks.add(toAdd);
            } else {
                for (int i = 0; i < dates.size(); i++) {
                    Calendar c = Calendar.getInstance();
                    c.setTime(dates.get(i));
                    c.clear(Calendar.SECOND);
                    c.clear(Calendar.MILLISECOND);
                    TaskEntity toAdd = new TaskEntity(name, null, c, false, desc);
                    for (int j = 0; j < hashes.size(); j++) {
                        toAdd.addHashtag(hashes.get(j));
                    }
                    tasks.add(toAdd);
                }
            }
        }
        return tasks;
    }

    private boolean checkFullDay(Calendar c, Calendar c2) {
        boolean isFullDay = false;
        if (c.get(Calendar.YEAR) == c2.get(Calendar.YEAR)) {
            // System.out.println("year");
            if (c.get(Calendar.MONTH) == c2.get(Calendar.MONTH)) {
                // System.out.println("month");
                if (c.get(Calendar.DATE) == c2.get(Calendar.DATE)) {
                    // System.out.println("day");
                    if ((c.get(Calendar.HOUR_OF_DAY) == 0) && (c2.get(Calendar.HOUR_OF_DAY) == 23)) {
                        // System.out.println("hour");
                        if ((c.get(Calendar.MINUTE) == 0) && (c2.get(Calendar.MINUTE) == 59)) {
                            // System.out.println("min");
                            isFullDay = true;
                        }
                    }
                }
            }
        }
        return isFullDay;
    }

    public String getID() {
        return idParser.getId(XMLParser.removeAllTags(input));
    }

    public Pair<String, String> getLinkID() {
        return idParser.getLinkId(XMLParser.removeAllTags(input));
    }

    
}
```
###### src\parser\Pair.java
``` java
package parser;

public class Pair<firstThing, secondThing> {
    private firstThing first;// first member of pair
    private secondThing second;// second member of pair

    public Pair(firstThing first, secondThing second) {
        this.first = first;
        this.second = second;
    }

    public void setFirst(firstThing first) {
        this.first = first;
    }

    public void setSecond(secondThing second) {
        this.second = second;
    }

    public firstThing getFirst() {
        return this.first;
    }

    public secondThing getSecond() {
        return this.second;
    }
}
```
###### src\parser\ParserCommons.java
``` java
package parser;

import java.util.Calendar;
import java.util.Date;
import java.util.List;

public class ParserCommons {
    private static final int FIRST_WORD = 0;

    /**
     * returns the last word of a given string
     * 
     * @param input
     * @return String last word
     */
    public static String getLastWord(String input) {
        String returnVal = null;
        String[] seperated = input.split(" ");
        if (seperated.length > 0) {
            returnVal = seperated[seperated.length - 1];
        }
        return returnVal;
    }

    /**
     * For File reading, Converts a Date.toString() value and returns a Calendar
     * object
     * 
     * @param input
     * @return Calendar
     */
    public static Calendar getDate(String input) {
        Calendar c = Calendar.getInstance();
        DateParser dp = new DateParser();
        List<Date> d = dp.parseToList(input);
        c.clear(Calendar.MILLISECOND);
        c.setTime(d.get(0));
        return c;
    }

    /**
     * pad an input if its less than 2 digits, used for hours and mins
     * 
     * @param int hour (or min)
     * @return padded hour (or min)
     */
    public static String padTime(int field) {
        String returnVal = "00";
        if (field != 0) {
            if (field < 10) {
                returnVal = "0" + field;
            } else {
                returnVal = Integer.toString(field);
            }
        }
        return returnVal;
    }

    /**
     * creates a date time in format xth month year xxxxhrs
     * 
     * @param Calendar c
     * @return a string in date followed by time
     */
    public static String detailedDateTime(Calendar c) {
        int hour = c.get(Calendar.HOUR_OF_DAY);
        int min = c.get(Calendar.MINUTE);
        ReverseParser rp = new ReverseParser();
        String returnVal = rp.detailedReParse(c);
        returnVal += " " + padTime(hour);
        returnVal += padTime(min);
        returnVal += "hrs";
        return returnVal;
    }

    /**
     * returns the first word of a given String
     * 
     * @param input
     * @return String, first word
     */
    public static String getFirstWord(String input) {
        String returnStrVal = input.trim().split("\\s+")[FIRST_WORD];
        return returnStrVal;
    }
}
```
###### src\parser\ReverseParser.java
``` java
package parser;

import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;

public class ReverseParser {
    private Map<Integer, String> dictionary = new HashMap<Integer, String>();
    private Map<Integer, String> dayWeekStr = new HashMap<Integer, String>();

    public ReverseParser() {
        dictionary.put(0, "Today");
        dictionary.put(-1, "Yesterday");
        dictionary.put(1, "Tomorrow");
        dayWeekStr.put(Calendar.SUNDAY, "Sunday");
        dayWeekStr.put(Calendar.MONDAY, "Monday");
        dayWeekStr.put(Calendar.TUESDAY, "Tuesday");
        dayWeekStr.put(Calendar.WEDNESDAY, "Wednesday");
        dayWeekStr.put(Calendar.THURSDAY, "Thursday");
        dayWeekStr.put(Calendar.FRIDAY, "Friday");
        dayWeekStr.put(Calendar.SATURDAY, "Saturday");

    }

    /**
     * returns a string in the format "upcoming/previous" day_of_week DDth MMMMM
     * YYYY
     * 
     * @param input
     * @return
     */
    public String reParse(Calendar input) {
        String output = null;
        Calendar curr = Calendar.getInstance();
        curr.set(Calendar.HOUR_OF_DAY, 0);
        curr.clear(Calendar.MINUTE);
        curr.clear(Calendar.SECOND);
        curr.clear(Calendar.MILLISECOND);
        input.set(Calendar.HOUR_OF_DAY, 0);
        input.clear(Calendar.MINUTE);
        input.clear(Calendar.SECOND);
        input.clear(Calendar.MILLISECOND);
        long mills = input.getTimeInMillis() - curr.getTimeInMillis();
        int days = (int) Math.floor(mills / 86400000);
        output = dictionary.get(days);
        int dayOfWeek = input.get(Calendar.DAY_OF_WEEK);

        if ((days > 1) && (days < 7)) {
            output = "Upcoming " + dayWeekStr.get(dayOfWeek);
        }
        if ((days > -7) && (days < -1)) {
            output = "Previous " + dayWeekStr.get(dayOfWeek);
        }

        String date = getFormattedDate(input.getTime());
        if (output == null) {
            output = date;
        } else {
            output += " " + date;
        }
        return output;
    }

    /**
     * Re-parsing dates for detailed view
     * 
     * @param input
     * @return
     */
    public String detailedReParse(Calendar input) {
        String output = null;
        int dayOfWeek = input.get(Calendar.DAY_OF_WEEK);

        output = dayWeekStr.get(dayOfWeek);

        String date = getFormattedDate(input.getTime());
        if (output == null) {
            output = date;
        } else {
            output += " " + date;
        }
        return output;
    }

    /**
     * adds the "th" for the date
     * 
     * @param date
     * @return
     */
    private String getFormattedDate(Date date) {
        Calendar cal = Calendar.getInstance();
        cal.setTime(date);
        // 2nd of march 2015
        int day = cal.get(Calendar.DATE);

        if (!((day > 10) && (day < 19)))
            switch (day % 10) {
                case 1 :
                    return new SimpleDateFormat("d'st' MMMM yyyy").format(date);
                case 2 :
                    return new SimpleDateFormat("d'nd' MMMM yyyy").format(date);
                case 3 :
                    return new SimpleDateFormat("d'rd' MMMM yyyy").format(date);
                default :
                    return new SimpleDateFormat("d'th' MMMM yyyy").format(date);
            }
        return new SimpleDateFormat("d'th' MMMM yyyy").format(date);
    }
}
```
###### src\parser\XMLParser.java
``` java
package parser;

import java.io.StringReader;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import org.w3c.dom.Document;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;

public class XMLParser {
    public static final String DATE_TAG = "DaTeSxMl";
    public static final String CMD_TAG = "CmDxMl";
    public static final String TITLE_TAG = "TiTlExMl";
    public static final String DESC_TAG = "DeScXmL";
    public static final String OTHERS_TAG = "OtHeRxMl";
    public static final String ID_TAG = "IdXmL";
    public static final String HASH_TAG = "HaShXmL";

    /**
     * creates a document from a string of xml
     * 
     * @param xml
     * @return
     * @throws Exception
     */
    public static Document loadXMLFromString(String xml) throws Exception {
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        DocumentBuilder builder = factory.newDocumentBuilder();
        InputSource is = new InputSource(new StringReader(xml));
        return builder.parse(is);
    }

    /**
     * creates a map from a string of xml
     * 
     * @param xml
     * @return map with the xml tag as the key and the date in an array list
     * @throws Exception
     */
    public static Map<String, ArrayList<String>> loadMapFromXML(String xml) throws Exception {
        xml = "<xml>" + xml + "</xml>";
        // System.out.println(xml);
        Map<String, ArrayList<String>> returnVal = new HashMap<String, ArrayList<String>>();
        Document xmlDoc = loadXMLFromString(xml);
        NodeList children = xmlDoc.getChildNodes().item(0).getChildNodes();
        for (int i = 0; i < children.getLength(); i++) {
            Node child = children.item(i);
            String nodeName = child.getNodeName();
            if (!nodeName.equals("#text")) {
                ArrayList<String> value;
                if (returnVal.containsKey(nodeName)) {
                    value = returnVal.get(nodeName);
                    value.add(child.getTextContent());
                } else {
                    value = new ArrayList<String>();
                    value.add(child.getTextContent());
                    returnVal.put(nodeName, value);
                }
                // System.out.println(nodeName);
            }
        }
        return returnVal;
    }

    /**
     * removes all text in a string between xml tags
     * 
     * @param input
     * @return string without xml
     */
    public static String removeAllAttributes(String input) {
        String temp = new String(input);
        try {
            Document tempXMLDoc = XMLParser.loadXMLFromString("<XML>" + input + "</XML>");
            input = removeAttribute(input, tempXMLDoc, TITLE_TAG);
            input = removeAttribute(input, tempXMLDoc, CMD_TAG);
            input = removeAttribute(input, tempXMLDoc, DESC_TAG);
            input = removeAttribute(input, tempXMLDoc, DATE_TAG);
            input = removeAttribute(input, tempXMLDoc, ID_TAG);
            input = removeAttribute(input, tempXMLDoc, OTHERS_TAG);
            input = removeAttribute(input, tempXMLDoc, HASH_TAG);
        } catch (Exception e) {
            e.printStackTrace();
            return temp;
        }
        return input;
    }

    /**
     * removes a specific xml tag and its contents from a string
     * 
     * @param input
     * @param tag
     * @param value
     * @return String
     */
    private static String removeOneAttribute(String input, String tag, String value) {
        input = input.replace("<" + tag + ">" + value + "</" + tag + ">", "");
        return input;
    }

    /**
     * removes a specific xml tag and its contents from a document
     * 
     * @param input
     * @param tempXMLDoc
     * @param tag
     * @return String
     */
    private static String removeAttribute(String input, Document tempXMLDoc, String tag) {
        NodeList titles = tempXMLDoc.getElementsByTagName(tag);
        for (int i = 0; i < titles.getLength(); i++) {
            input = input.replace("<" + tag + ">" + titles.item(i).getTextContent() + "</" + tag + ">", "");
        }
        return input;
    }

    /**
     * remove all tags without removing the contents
     * 
     * @param input
     * @return String
     */
    public static String removeAllTags(String input) {
        input = removeTags(input, CMD_TAG);
        input = removeTags(input, TITLE_TAG);
        input = removeTags(input, DESC_TAG);
        input = removeTags(input, DATE_TAG);
        input = removeTags(input, ID_TAG);
        input = removeTags(input, OTHERS_TAG);
        input = removeTags(input, HASH_TAG);
        return input;
    }

    /**
     * removes specific tags from string
     * 
     * @param input
     * @param tag
     * @return
     */
    private static String removeTags(String input, String tag) {
        input = input.replace("<" + tag + ">", "");
        input = input.replace("</" + tag + ">", "");
        return input;
    }

    /**
     * creates a list of tags and their contents, retaining order
     * 
     * @param input
     * @return ArrayList of Pairs, containing the tag followed by the contents
     */
    public static ArrayList<Pair<String, ArrayList<String>>> xmlToArrayList(String input) {
        ArrayList<Pair<String, ArrayList<String>>> tagStringPair = new ArrayList<Pair<String, ArrayList<String>>>();
        String prev = "";
        while (!input.trim().isEmpty()) {
            String tag = findNextTag(input);
            String nextIn = findNextInput(tag, input);
            if (tag != "") {
                ArrayList<String> values = new ArrayList<String>();
                values.add(nextIn);
                tagStringPair.add(new Pair(tag, values));
                input = removeOneAttribute(input, tag, nextIn);
                // System.out.println("test@"+tag+values.get(0));

            }

            if (prev == input) {
                break;
            }
            if (tag.trim().equals("")) {
                break;
            }
            prev = input;
        }

        return tagStringPair;
    }

    /**
     * Get the next tag in the string
     * 
     * @param input
     * @return String
     */
    private static String findNextTag(String input) {
        String tag = "";
        boolean isInTag = false;
        for (int i = 0; i < input.length(); i++) {
            char c = input.charAt(i);
            if (!isInTag) {
                if (c == '<') {
                    isInTag = true;
                }
            } else {
                if (c == '>') {
                    isInTag = false;
                    break;
                }
                tag += c;
            }
        }
        return tag;
    }

    /**
     * Finds the next part of the input given tag
     * 
     * @param tag
     * @param input
     * @returnString with input
     */
    private static String findNextInput(String tag, String input) {
        input = input.trim();
        // System.out.println(tag+","+ input);
        boolean isInTag = false;
        boolean isClosingTag = false;
        String temp = "";
        String closingTag = "";
        for (int i = 0; i < input.length(); i++) {
            char c = input.charAt(i);
            if (isClosingTag) {
                closingTag += c;
            } else {
                temp += c;
            }
            if (isInTag) {
                if (c == '<') {
                    isClosingTag = true;
                    closingTag += c;
                } else if (closingTag.equals("</" + tag + ">")) {
                    isInTag = false;
                    isClosingTag = false;
                    temp = temp.substring(0, temp.length() - 1);
                    break;
                }
            } else {
                if (temp.equals("<" + tag + ">")) {
                    isInTag = true;
                    temp = "";
                }
            }
        }
        return temp;
    }
}
```
###### src\red.css
``` css
.cssLabels,.cssLabelsDescription,.cssLabelsDetails,.cssLabelsFloatingBar,.cssLabelsFloatingTaskInterface,
.cssLabelsSearchView, .cssLabelsCommandBar{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-fill:rgba(0.0,0.0,0.0,1.0);
}

#cssCommandMainUserInput {
    -fx-background-color: -fx-control-inner-background;
    -fx-font: 12.0px "Arial";
}

#commandText {
	-fx-font: 12.0px "Arial";
}

/* Help Screen */

#cssHelpScreenRoot{
	-fx-background-color: rgba(255.0,255.0,255.0,0.5);
}

#cssHelpComponentHighLighter{
	-fx-background-color: rgba(0.0,0.0,0.0,0.1);
	-fx-border-width: 1.0; 
	-fx-border-color: black;
}

#cssHelpComponentLinker{
	-fx-background-color: rgba(0.0,0.0,0.0,1.0);
}

#cssHelpComponentDescriptionBox{
	-fx-background-color: rgba(255.0,255.0,255.0,1.0);
	-fx-border-width: 1.0; 
	-fx-border-color: black;
}

#cssHelpTitle{
	-fx-text-fill: rgba(240.0,180.0,50.0,1.0);
	-fx-border-width: 0.0 0.0 1.0 0.0; 
	-fx-border-color: black;
}


#rootPane{
	-fx-border-color: #d3d3d3;
    -fx-border-width: 2.0px;
}

.controlFocus {
	-fx-border-color: #FF00FF;
	-fx-border-width: 2.0px;
}

/* css Task view  */
#cssTaskViewMainBackground{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
}

#cssTaskViewWeekSelected{
	-fx-background-color: rgba(240.0,240.0,255,1.0);
}

#cssTaskViewWeekUnSelected{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
}

#cssTaskViewDayBoxSelected{
}

#cssTaskViewDayBoxUnSelected{	
}

#cssTaskViewSelectedTask{
	-fx-background-radius: 20.0; 
	-fx-background-color:  rgba(255.0,178.5,178.5,1.0);
	-fx-background-insets: 1.0 5.0 1.0 5.0;
}

#cssTaskViewUnSelectedTask{
	-fx-background-color: rgba(255.0,255.0,255.0,0.5);
}

#cssTaskViewDayLabel{
	-fx-border-width: 0.0 0.0 1.0 0.0; 
	-fx-border-color: black;
}

/* css expanded panel */
#cssExpandedViewVBox{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
	-fx-background-radius: 7.0;
	-fx-background-insets: 0.0 5.0 0.0 5.0;
}

#cssExpandedViewVBoxSelected{
	-fx-background-color: rgba(255.0,178.5,178.5,1.0);
	-fx-background-radius: 7.0;
	-fx-background-insets: 0.0 5.0 0.0 5.0;
}

/* css description panel */

#cssRootDescriptionViewMainBackground{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
}

#cssDescriptionLabelSelected{
	-fx-background-color:rgba(255.0,178.5,178.5,1.0);
}

#cssDescriptionLabelUnSelected{
	-fx-background-color:rgba(255.0,255.0,255.0,0.9);
}

/* Detail Componenet CSS */

#cssDetailComponentRoot{
	-fx-background-color: rgba(225.0,225.0,255.0,0.7),rgba(225.0,225.0,255.0,0.95);
}

#cssDetailComponentRootAssociation{
	-fx-background-color:rgba(225.0,225.0,255.0,0.7)rgba(225.0,225.0,255.0,0.7),rgba(255.0,255.0,255.0,0.7),rgba(225.0,225.0,255.0,0.7);
	-fx-background-insets: 0.0,2.0,2.0;
}

#cssDetailComponentEmptyTitle {
	-fx-background-color: rgba(138.0,138.0,255,1.0);	
}

#cssDetailComponentProjectHeadBox{
	-fx-background-color: rgba(255.0,255.0,255.0,0.95);
}

#cssDetailAssociationListBox{
	-fx-background-color: rgba(255.0,255.0,255.0,0.0);
	-fx-background-insets: 0.0 0.0 0.0 0.0;
}


/* Floating Bar CSS */

#cssRootFloatingBar{
	-fx-background-color: rgba(200.0,200,255,1.0), rgba(225.0,225.0,255.0,0.7);
	-fx-background-insets: 0.0,0.0 10.0 0.0 10.0;
}

#cssFloatingBarContentArea{
	-fx-border-width:  0.0 0.0 0.0 1.0; 
	-fx-border-color: black;
}

#cssFloatingBarTitleLabel{

}

/* Floating Task View CSS */

#cssRootFloatingTaskView{
	-fx-background-color: rgba(225.0,225.0,255.0,1.0,1.0)rgba(225.0,225.0,255.0,1.0);
	-fx-background-insets: 0.0,5.0;
}

#cssFloatingTaskViewTitle{
	-fx-background-color: rgba(159.0, 138.0, 232.0,1.0);
}

#cssFloatingTaskViewSelected{
	-fx-background-radius: 20.0; 
	-fx-background-color:  rgba(255.0,178.5,178.5,1.0);
	-fx-background-insets: 1.0 7.0 1.0 7.0;
}

/* Search View CSS */
#cssRootSearchView{
	-fx-background-color: rgba(225.0,225.0,255.0,1.0,1.0)rgba(225.0,225.0,255.0,1.0);
	-fx-background-insets: 0.0,5.0;
}

#cssSearchTitle{
	-fx-background-color: rgba(138.0, 159.0, 232.0,1.0);
}

#cssSearchSelected{
	-fx-background-color: rgba(255.0,178.5,178.5,1.0);
	-fx-background-radius: 20.0; 
	-fx-background-insets: 1.0 7.0 1.0 7.0;
}

/* CommandsBar CSS */

#cssCommandBarMainStructure{
	-fx-background-color: rgba(255.0,255.0,255.0,0.8);
}

#cssCommandBarContentZone{
	-fx-border-width: 1.0 0.0 1.0 0.0; 
	-fx-border-color: black;
}


#cssCommandBarfeedback_normal{
	-fx-background-color: rgba(23.0, 219.0, 36.0, 1.0);
}

#cssCommandBarfeedback_conflict{
	-fx-background-color: rgba(255.0, 208.0, 42.0, 1.0);
}

#cssCommandBarfeedback_past{
	-fx-background-color: rgba(255.0, 208.0, 42.0, 1.0);
}

#cssCommandBarfeedback_conflict_past{
	-fx-background-color: rgba(255.0, 208.0, 42.0, 1.0);
}

#cssCommandBarfeedback_error{
	-fx-background-color: rgba(255.0, 42.0, 44.0,1.0);
}

/* Commands CSS */

#cssCommandBarAdd {
	-fx-background-color: rgba(72.0, 238.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarInvalid{
	-fx-text-fill:rgba(255.0,0.0,0.0,1.0);
}

#cssCommandBarDelete {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(56.0, 238.0, 223.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarEdit {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(56.0, 163.0, 238.0, 0.5);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarLink {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(163.0, 238.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarDone {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 132.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandTitle {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(202.0, 247.0, 140.0, 1.0);
	-fx-background-radius: 7.0; 
}
#cssCommandDate {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(247.0, 140.0, 149.0, 1.0);
	-fx-background-radius: 7.0; 
}
#cssCommandHashTag{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(247.0, 238.0, 140.0, 1.0);
	-fx-background-radius: 7.0; 
}

#cssCommandID {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(247.0, 184.0, 140.0, 1.0);
	-fx-background-radius: 7.0; 
}
#cssCommandDescription {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(140.0, 202.0, 247.0, 1.0);
	-fx-background-radius: 7.0; 
}

#cssCommandJump {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 56.0, 163.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandSearch{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(132.0, 56.0, 238.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandExit{
	-fx-text-fill:white;
	-fx-background-color: rgba(238.0, 56.0, 72.0, 1.0);
	-fx-font-weight:bold;
	 -fx-font: 20.0px "Arial";
}

#cssCommandFloat{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 132.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandShow{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(223.0, 56.0, 238.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandHide{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(223.0, 56.0, 238.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandMain{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 56.0, 163.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandSaveDir{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(183.0, 220.0, 40.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandUndo{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(240.0, 180.0, 20.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandOther{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
}

#cssCommandTheme{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 120.0, 163.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandLoadFrom{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(183.0, 220.0, 40.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
```
###### src\test\parser\JUnitCommandParser.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

import org.junit.Test;

import parser.CommandParser;

public class JUnitCommandParser {
	CommandParser cp = new CommandParser();
	@Test
	public void testCommandParser_GetAddCommand(){
		assertTrue(CommandParser.COMMAND.ADD.equals(cp.getCommand("add something something")));
	}
	
	@Test
	public void testCommandParser_GetDeleteCommand(){
		assertTrue(CommandParser.COMMAND.DELETE.equals(cp.getCommand("delete something something")));
	}
	
	@Test
	public void testCommandParser_GetEditCommand(){
		assertTrue(CommandParser.COMMAND.EDIT.equals(cp.getCommand("edit something something")));
	}
	
	@Test
	public void testCommandParser_GetExitCommand(){
		assertTrue(CommandParser.COMMAND.EXIT.equals(cp.getCommand("exit something something")));
	}
	
	@Test
	public void testCommandParser_GetMainCommand(){
		assertTrue(CommandParser.COMMAND.MAIN.equals(cp.getCommand("main something something")));
	}
	
	@Test
	public void testCommandParser_GetHideCommand(){
		assertTrue(CommandParser.COMMAND.HIDE.equals(cp.getCommand("hide something something")));
	}
	
	@Test
	public void testCommandParser_GetShowCommand(){
		assertTrue(CommandParser.COMMAND.SHOW.equals(cp.getCommand("show something something")));
	}
	
	@Test
	public void testCommandParser_GetFloatCommand(){
		assertTrue(CommandParser.COMMAND.FLOAT.equals(cp.getCommand("float something something")));
	}
	
	@Test
	public void testCommandParser_GetSearchCommand(){
		assertTrue(CommandParser.COMMAND.SEARCH.equals(cp.getCommand("search something something")));
	}
	
	@Test
	public void testCommandParser_GetJumpCommand(){
		assertTrue(CommandParser.COMMAND.JUMP.equals(cp.getCommand("jump something something")));
	}
	
	@Test
	public void testCommandParser_GetLinkCommand(){
		assertTrue(CommandParser.COMMAND.LINK.equals(cp.getCommand("link something something")));
	}
	
	@Test
	public void testCommandParser_GetDoneCommand(){
		assertTrue(CommandParser.COMMAND.DONE.equals(cp.getCommand("done something something")));
	}
	
	@Test
	public void testCommandParser_GetSaveToCommand(){
		assertTrue(CommandParser.COMMAND.SAVETO.equals(cp.getCommand("saveto something something")));
	}
	
	@Test
	public void testCommandParser_GetLoadFromCommand(){
		assertTrue(CommandParser.COMMAND.LOADFROM.equals(cp.getCommand("loadfrom something something")));
	}
	
	@Test
	public void testCommandParser_GetUndoCommand(){
		assertTrue(CommandParser.COMMAND.UNDO.equals(cp.getCommand("undo something something")));
	}

	@Test
	public void testCommandParser_GetThemeCommand(){
		assertTrue(CommandParser.COMMAND.THEME.equals(cp.getCommand("theme something something")));
	}
	
	@Test
	public void testCommandParser_GetInvalidCommand(){
		assertTrue(CommandParser.COMMAND.INVALID.equals(cp.getCommand("munchkin something something")));
		assertTrue(CommandParser.COMMAND.INVALID.equals(cp.getCommand("")));
	}
	
	@Test
	public void testCommandParser_AddXMLFirstWord(){
		assertEquals("<CmDxMl>add</CmDxMl> basketball",cp.xmlFirstWord("add basketball"));
	}
	
	@Test
	public void testCommandParser_AddXMLFirstWord_NoInput(){
		assertEquals("",cp.xmlFirstWord(""));
	}
}
```
###### src\test\parser\JUnitDateParser.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

import java.util.Calendar;
import java.util.Date;
import java.util.List;

import org.junit.Test;

import parser.DateParser;

public class JUnitDateParser {
    DateParser dp = new DateParser();

    @Test
    public void testDateParser_testParseToList_AbsoluteDate() {
        List<Date> dates = dp.parseToList("01/02/2016 1500hrs");
        Date testDate = dates.get(0);
        // test data
        Calendar c = Calendar.getInstance();
        c.set(2016, 01, 01, 15, 00, 00);
        c.clear(Calendar.MILLISECOND);

        assertEquals(0, c.getTime().compareTo(testDate));
    }

    @Test
    public void testDateParser_testParseToList_relativeDate() {
        List<Date> dates = dp.parseToList("today");
        Date testDate = dates.get(0);
        // test data
        Calendar c = Calendar.getInstance();
        c.set(Calendar.HOUR_OF_DAY, 0);
        c.clear(Calendar.MINUTE);
        c.clear(Calendar.SECOND);
        c.clear(Calendar.MILLISECOND);

        assertEquals(0, c.getTime().compareTo(testDate));
    }

    @Test
    public void testDateParser_testParseToList_noDate() {
        List<Date> dates = dp.parseToList("");
        assertTrue(dates.isEmpty());
    }

    @Test
    public void testDateParser_XMLDate() {
        assertEquals("<DaTeSxMl>tmr </DaTeSxMl> blah blah", dp.xmlDate("tmr blah blah"));
    }

    @Test
    public void testDateParser_XMLDate_NoInput() {
        assertEquals("", dp.xmlDate(""));
    }
}
```
###### src\test\parser\JUnitGarbageCollectorParser.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;

import java.util.ArrayList;

import org.junit.Test;

import parser.GarbageCollectorParser;

public class JUnitGarbageCollectorParser {
    GarbageCollectorParser gc = new GarbageCollectorParser();

    @Test
    public void TestGarbageCollector_xmlHash() {
        String toTest = gc.xmlHash("asdfgh #qwer");
        String expected = "asdfgh <HaShXmL>#qwer</HaShXmL>";
        assertEquals(toTest, expected);
    }

    @Test
    public void TestGarbageCollector_xmlHash_noInput() {
        String toTest = gc.xmlHash("asdfgh");
        String expected = "asdfgh";
        assertEquals(toTest, expected);
    }

    @Test
    public void TestGarbageCollector_getHash_noInput() {
        gc.xmlHash("#one #two #three four");
        ArrayList<String> toTest = gc.getHashes();
        ArrayList<String> expected = new ArrayList<String>();
        expected.add("#one");
        expected.add("#two");
        expected.add("#three");
        assertEquals(toTest, expected);
    }

    @Test
    public void TestGarbageCollector_xmlAllOthers() {
        String toTest = gc.xmlAllOthers("asdf");
        String expected = "<OtHeRxMl>asdf</OtHeRxMl>";
        assertEquals(toTest, expected);
    }

    @Test
    public void TestGarbageCollector_xmlAllOthers_noInput() {
        String toTest = gc.xmlAllOthers("");
        String expected = "";
        assertEquals(toTest, expected);
    }
}
```
###### src\test\parser\JUnitIdParser.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

import parser.IdParser;
import parser.Pair;

public class JUnitIdParser {
    IdParser id = new IdParser();

    @Test
    public void testIDParser_GetID() {
        String toTest = id.getId("ID123");
        String expected = "123";
        assertEquals(toTest, expected);
    }

    @Test
    public void testIDParser_GetID_noInput() {
        String toTest = id.getId("asfd");
        String expected = null;
        assertEquals(toTest, expected);
    }

    @Test
    public void testIDParser_GetLinkID() {
        Pair<String, String> toTest = id.getLinkId("ID123-ID234");
        Pair<String, String> expected = new Pair("123", "234");
        assertEquals(toTest.getFirst(), expected.getFirst());
        assertEquals(toTest.getSecond(), expected.getSecond());
    }

    @Test
    public void testIDParser_GetLinkID_invalidInput() {
        Pair<String, String> toTest = id.getLinkId("123-234");
        Pair<String, String> expected = new Pair(null, null);
        assertEquals(toTest.getFirst(), expected.getFirst());
        assertEquals(toTest.getSecond(), expected.getSecond());
    }

    @Test
    public void testIDParser_xmlID() {
        String toTest = id.xmlId("ID1234");
        String expected = "<IdXmL>ID1234</IdXmL>";
        assertEquals(toTest, expected);
    }

    @Test
    public void testIDParser_xmlID_invalidInput() {
        String toTest = id.xmlId("1234");
        String expected = "1234";
        assertEquals(toTest, expected);
    }
}
```
###### src\test\parser\JUnitInformationParser.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import org.junit.Test;

import parser.InformationParser;

public class JUnitInformationParser {
    InformationParser info = new InformationParser();

    @Test
    public void testInformationParser_XMLTitleDesc_bothTitleAndDesc() {
        String toTest = info.xmlTitleAndDesc("blah:something");
        String expected = "<TiTlExMl>blah</TiTlExMl><OtHeRxMl>:</OtHeRxMl><DeScXmL>something</DeScXmL>";
        assertEquals(toTest, expected);
    }

    @Test
    public void testInformationParser_XMLTitleDesc_onlyTitle() {
        String toTest = info.xmlTitleAndDesc("blah");
        String expected = "<TiTlExMl>blah</TiTlExMl>";
        assertEquals(toTest, expected);
    }

    @Test
    public void testInformationParser_XMLTitleDesc_noInput() {
        String toTest = info.xmlTitleAndDesc("");
        String expected = "";
        assertEquals(toTest, expected);
    }

    @Test
    public void testInformationParser_setInfomation() {
        boolean toTest = info.setInformation("title");
        assertTrue(toTest);
    }

    @Test
    public void testInformationParser_setInfomation_noInput() {
        boolean toTest = info.setInformation(":");
        assertFalse(toTest);
    }

    @Test
    public void testInformationParser_GetTitle() {
        info.xmlTitleAndDesc("blah:something");
        String toTest = info.getTitle();
        String expected = "blah";
        assertEquals(toTest, expected);
    }

    @Test
    public void testInformationParser_GetDesc() {
        info.xmlTitleAndDesc("blah:something");
        String toTest = info.getDescription();
        String expected = "something";
        assertEquals(toTest, expected);
    }
}
```
###### src\test\parser\JUnitPair.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

import parser.Pair;

public class JUnitPair {

    @Test
    public void testPair_GetFirst() {
        Pair<String, String> p = new Pair<String, String>("a", "b");
        assertEquals(p.getFirst(), "a");
    }

    @Test
    public void testPair_GetSecond() {
        Pair<String, String> p = new Pair<String, String>("a", "b");
        assertEquals(p.getSecond(), "b");
    }
}
```
###### src\test\parser\JUnitParserCommons.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;

import java.util.Calendar;

import org.junit.Test;

import parser.ParserCommons;

public class JUnitParserCommons {
    @Test
    public void testParserCommons_getLastWord() {
        String toTest = ParserCommons.getLastWord("asdf ghjk jkl");
        String expected = "jkl";
        assertEquals(toTest, expected);
    }

    @Test
    public void testParserCommons_getLastWord_noInput() {
        String toTest = ParserCommons.getLastWord("");
        String expected = "";
        assertEquals(toTest, expected);
    }

    @Test
    public void testParserCommons_getDate() {
        Calendar toTest = ParserCommons.getDate("today");
        Calendar expected = Calendar.getInstance();
        expected.set(Calendar.HOUR_OF_DAY, 0);
        expected.set(Calendar.MINUTE, 0);
        expected.set(Calendar.SECOND, 0);
        expected.set(Calendar.MILLISECOND, 0);
        assertEquals(toTest, expected);
    }

    @Test
    public void testParserCommons_padTime() {
        String toTest = ParserCommons.padTime(0);
        String expected = "00";
        assertEquals(toTest, expected);
    }

    @Test
    public void testParserCommons_detailedDateTiem() {
        Calendar c = Calendar.getInstance();
        c.set(2016, 0, 1, 0, 0, 0);
        String toTest = ParserCommons.detailedDateTime(c);
        String expected = "Friday 1st January 2016 0000hrs";
        assertEquals(toTest, expected);
    }

    @Test
    public void testParserCommons_getFirsttWord() {
        String toTest = ParserCommons.getFirstWord("asdf ghjk jkl");
        String expected = "asdf";
        assertEquals(toTest, expected);
    }

    @Test
    public void testParserCommons_getFirstWord_noInput() {
        String toTest = ParserCommons.getFirstWord("");
        String expected = "";
        assertEquals(toTest, expected);
    }
}
```
###### src\test\parser\JUnitReverseParser.java
``` java
package test.parser;

import static org.junit.Assert.assertEquals;

import java.util.Calendar;

import org.junit.Test;

import parser.ReverseParser;

public class JUnitReverseParser {
    ReverseParser rp = new ReverseParser();

    @Test
    public void testReverseParser_reParse_1stJan() {
        Calendar c = Calendar.getInstance();
        c.set(2016, 0, 1, 0, 0, 0);
        String toTest = rp.reParse(c);
        String expected = "1st January 2016";
        assertEquals(toTest, expected);
    }

    @Test
    public void testReverseParser_reParse_2ndFeb() {
        Calendar c = Calendar.getInstance();
        c.set(2016, 1, 2, 0, 0, 0);
        String toTest = rp.reParse(c);
        String expected = "2nd February 2016";
        assertEquals(toTest, expected);
    }

    @Test
    public void testReverseParser_reParse_3rdMar() {
        Calendar c = Calendar.getInstance();
        c.set(2016, 2, 3, 0, 0, 0);
        String toTest = rp.reParse(c);
        String expected = "3rd March 2016";
        assertEquals(toTest, expected);
    }

    @Test
    public void testReverseParser_reParse_4thApril() {
        Calendar c = Calendar.getInstance();
        c.set(2015, 3, 4, 0, 0, 0);
        String toTest = rp.reParse(c);
        String expected = "4th April 2015";
        assertEquals(toTest, expected);
    }
}
```
###### src\test\userinterface\JUnitProgramTest.java
``` java
package test.userinterface;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertTrue;

import java.io.File;
import java.io.IOException;
import java.util.ArrayList;

import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.ClassRule;
import org.junit.Test;
import org.junit.rules.TemporaryFolder;

import entity.ResultSet;
import entity.TaskEntity;
import logic.TaskManager;
import logic.TaskUtils;
import parser.CommandParser.COMMAND;
import parser.InputParser;
import parser.Pair;
import userinterface.UserInterfaceExecuter;

public class JUnitProgramTest {

    @ClassRule
    public static TemporaryFolder folder = new TemporaryFolder();

    private static UserInterfaceExecuter _executor = new UserInterfaceExecuter();
    private static int counter = 0;

    @BeforeClass
    public static void oneTimeSetUp() {
        try {
            folder.newFolder("temp");
        } catch (IOException e) {
        }
    }

    public static void changeFile() throws IOException {
        String fileName = "ProjectTest_".concat(Integer.toString(counter++)).concat(".txt");
        File f = folder.newFile("temp/".concat(fileName));
        _executor.loadFrom(f.getPath());
    }

    @AfterClass
    public static void oneTimeTearDown() {
    }

    @Before
    public void setUp() {
        try {
            changeFile();
        } catch (IOException e) {
        }
        _executor.switchView(TaskManager.DISPLAY_MAIN);
        runCommand("add floating task1");
        runCommand("add floating task2");
        runCommand("add floating task3");
        runCommand("add some task tmr");
        runCommand("add some task tmr");
        runCommand("add some task tmr");
    }

    @After
    public void tearDown() {

    }

    @Test
    public void testProgram_addTimedTask_MainListHas4TasksAfterAdding() {
        assertTrue(runCommand("Add basketball tmr").isSuccess());
        _executor.switchView(TaskManager.DISPLAY_MAIN);

        assertEquals(4, _executor.getWorkingList().size());
    }

    @Test
    public void testProgram_addInvalidTimedTask_MainListHas3TasksAfterAdding() {
        assertFalse(runCommand("Add tmr").isSuccess());
        _executor.switchView(TaskManager.DISPLAY_MAIN);

        assertEquals(3, _executor.getWorkingList().size());
    }

    @Test
    public void testProgram_addFloatingTask_FloatingListHas4TasksAfterAdding() {
        assertTrue(runCommand("Add baseball").isSuccess());
        _executor.switchView(TaskManager.DISPLAY_FLOATING);

        assertEquals(4, _executor.getWorkingList().size());
    }

    @Test
    public void testProgram_executeInvalidCommands_commandsGetsRejected() {
        assertEquals(runCommand("basktball"), null);
        assertEquals(runCommand("ad d temp"), null);
        assertEquals(runCommand("123"), null);
        assertEquals(runCommand("-.;as;"), null);
    }

    @Test
    public void testProgram_addDummyTasks_taskAddedToCorrectList() {
        assertEquals(runCommand("add basktball").getView(), ResultSet.FLOATING_VIEW);
        _executor.switchView(TaskManager.DISPLAY_FLOATING);
        assertEquals(runCommand("add what tmr").getView(), ResultSet.TASK_VIEW);
        assertEquals(runCommand("add floating tasak").getView(), ResultSet.FLOATING_VIEW);
    }

    @Test
    public void testProgram_ModifyFloatingToTimed_() {
        _executor.switchView(TaskManager.DISPLAY_FLOATING);
        runCommand("Edit ID0 floating task1 tmr 3pm");

        assertEquals(2, _executor.getWorkingList().size());
        _executor.switchView(TaskManager.DISPLAY_MAIN);
        assertEquals(4, _executor.getWorkingList().size());
    }

    @Test
    public void testProgram_executeInvalidDeleteCommands_commandsGetRejected() {
        assertNull(runCommand("delete asda"));
        assertNull(runCommand("delete "));
        assertNull(runCommand("delete   "));
        assertNull(runCommand("delete 123123"));
        assertNull(runCommand("delete --00"));
    }

    @Test
    public void testProgram_executeInvalidCommands_AllMarkAsDoneFails() {
        assertFalse(runCommand("done IDD0").isSuccess());
        assertFalse(runCommand("done DDDII0").isSuccess());
        assertFalse(runCommand("done ").isSuccess());
        assertFalse(runCommand("done i").isSuccess());
    }

    @Test
    public void testProgram_markSomeTaskDone_All6TaskGoesIntoCompleteList() {
        assertTrue(runCommand("done ID0").isSuccess());
        assertTrue(runCommand("done ID0").isSuccess());
        assertTrue(runCommand("done ID0").isSuccess());
        _executor.switchView(TaskManager.DISPLAY_FLOATING);
        assertTrue(runCommand("done ID0").isSuccess());
        assertTrue(runCommand("done ID0").isSuccess());
        assertTrue(runCommand("done ID0").isSuccess());
        _executor.switchView(TaskManager.DISPLAY_COMPLETED);
        assertEquals(_executor.getWorkingList().size(), 6);
        // no task to mark as done
        assertFalse(runCommand("done ID0").isSuccess());
        // Completed list remains the same size
        assertEquals(_executor.getWorkingList().size(), 6);
    }

    @Test
    public void testProgram_deleteTaskFromFloatingList_taskDeleted() {
        _executor.switchView(TaskManager.DISPLAY_FLOATING);
        assertTrue(runCommand("delete ID0").isSuccess());
        assertFalse(runCommand("delete ID10").isSuccess());
        assertTrue(runCommand("delete ID0").isSuccess());
        assertTrue(runCommand("delete ID0").isSuccess());
        assertFalse(runCommand("delete ID0").isSuccess());
        assertFalse(runCommand("delete ID0").isSuccess());
    }

    @Test
    public void testProgram_linkThreeTasks_ThreeTasksLinked() {
        assertTrue(runCommand("link ID0-ID1").isSuccess());
        assertTrue(runCommand("link ID0-ID2").isSuccess());
    }

    @Test
    public void testProgram_invliadLinks_SecondAndThirdLinksFail() {
        assertTrue(runCommand("link ID0-ID1").isSuccess());
        assertFalse(runCommand("link ID1-ID2").isSuccess());
        assertFalse(runCommand("link ID2-ID0").isSuccess());
    }

    @Test
    public void testProgram_searchSomeTask_ThreeResultsFound() {
        runCommand("search task some");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(3, _executor.getWorkingList().size());

        runCommand("search sOme TASK");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(3, _executor.getWorkingList().size());

    }

    @Test
    public void testProgram_searchSubStrings_ThreeResultsFound() {
        runCommand("search so");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(3, _executor.getWorkingList().size());

        runCommand("search me");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(3, _executor.getWorkingList().size());

    }

    @Test
    public void testProgram_searchExtraTerms_NoResultFound() {
        runCommand("search task some thing");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(0, _executor.getWorkingList().size());

        runCommand("search all sOme TASK");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(0, _executor.getWorkingList().size());

    }

    @Test
    public void testProgram_searchCategory_OnlyExactSearchHasResult() {
        runCommand("add New task #assignment");
        runCommand("search #assignment");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(1, _executor.getWorkingList().size());

        runCommand("search #assign");
        _executor.switchView(TaskManager.DISPLAY_SEARCH);
        assertEquals(0, _executor.getWorkingList().size());

    }

    // @@ A0125514N
    public ResultSet runCommand(String rawString) {
        InputParser parser = new InputParser(rawString);
        COMMAND cmd = parser.getCommand();
        switch (cmd) {
            case ADD : {
                ArrayList<TaskEntity> tasks = parser.getTask();
                if (tasks.size() == 1) {
                    return _executor.addTask(tasks.get(0), rawString);
                }
            }
            case DELETE : {
                String id = parser.getID();
                return _executor.delete(id, rawString);
            }
            case EDIT : {
                String id = parser.getID();
                parser.removeId();
                ArrayList<TaskEntity> tasks = parser.getTask();
                if (tasks.size() == 1) {
                    return _executor.modify(TaskUtils.convertStringToInteger(id), tasks.get(0), rawString);
                } else {
                    return null;
                }
            }
            case DONE : {
                String id = parser.getID();
                return _executor.markAsDone(TaskUtils.convertStringToInteger(id), rawString);
            }
            case FLOAT : {
                _executor.switchView(TaskManager.DISPLAY_FLOATING);
                return null;
            }
            case MAIN : {
                _executor.switchView(TaskManager.DISPLAY_MAIN);
                return null;
            }
            case SEARCH : {
                String searchStirng = parser.getSearchString();
                ResultSet r = _executor.searchString(searchStirng, rawString);
                _executor.switchView(TaskManager.DISPLAY_SEARCH);
                return null;
            }
            case LINK : {
                Pair<String, String> ids = parser.getLinkID();
                int index1 = TaskUtils.convertStringToInteger(ids.getFirst());
                int index2 = TaskUtils.convertStringToInteger(ids.getSecond());
                if (index1 < _executor.getWorkingList().size()
                        && index2 < _executor.getWorkingList().size()) {
                    TaskEntity t1 = _executor.getWorkingList().get(index1);
                    TaskEntity t2 = _executor.getWorkingList().get(index2);
                    ResultSet result = _executor.link(t1, t2, rawString);
                    return result;
                } else {
                    return null;
                }
            }
            default :
                return null;
        }
    }
}
```
###### src\userinterface\PrimaryUserInterface.java
``` java
    /**
     * takes the data from key press and executes the related command
     * 
     * @param textField
     * @param KeyEvent
     *            event
     */
    private void processKeyPress(TextField textField, KeyEvent event) {
        if (event.getCode().compareTo(KeyCode.BACK_SPACE) == SAME) {
            _commandBar.deleteKey();
        } else if (event.getCode().compareTo(KeyCode.ENTER) == SAME) {
            COMMAND cmd = _commandBar.onEnter();

            if (cmd.equals(COMMAND.EXIT)) {
                executeExit();
            } else if (cmd.equals(COMMAND.INVALID)) {
                if (!uiController.processEnter()) {
                    executeInvalidCommand();
                }
            } else if (cmd.equals(COMMAND.ADD)) {
                executeAdd(_commandBar.getTasks(), _commandBar.getFullInput());
            } else if (cmd.equals(COMMAND.DELETE)) {
                executeDelete(_commandBar.getId(), _commandBar.getFullInput());
            } else if (cmd.equals(COMMAND.EDIT)) {
                executeModify(_commandBar.getId());
            } else if (cmd.equals(COMMAND.MAIN)) {
                uiController.showMainView(-1);
                resetCommandInput();
            } else if (cmd.equals(COMMAND.HIDE)) {
                uiController.hide();
                resetCommandInput();
                return;
            } else if (cmd.equals(COMMAND.SHOW)) {
                uiController.show();
                resetCommandInput();
                return;
            } else if (cmd.equals(COMMAND.FLOAT)) {
                uiController.showFloatingView(ZERO);
                resetCommandInput();
            } else if (cmd.equals(COMMAND.JUMP)) {
                executeJump();
                return;
            } else if (cmd.equals(COMMAND.DONE)) {
                String indexToMarkComplete = _commandBar.getId();
                executeMarkComplete(indexToMarkComplete, _commandBar.getFullInput());
            } else if (cmd.equals(COMMAND.LINK)) {
                Pair<String, String> ids = _commandBar.getLinkId();
                executeLink(ids.getFirst(), ids.getSecond(), _commandBar.getFullInput());
            } else if (cmd.equals(COMMAND.SEARCH)) {
                String stringToSearch = _commandBar.getSearchStr();
                executeSearch(stringToSearch, _commandBar.getFullInput());
            } else if (cmd.equals(COMMAND.SAVETO)) {
                String stringToSearch = _commandBar.getSearchStr();
                executeChangeSaveDir(stringToSearch);
            } else if (cmd.equals(COMMAND.UNDO)) {
                executeUndo();
            } else if (cmd.equals(COMMAND.THEME)) {
                String themeChange = _commandBar.getSearchStr();
                executeChangeTheme(themeChange);
            } else if (cmd.equals(COMMAND.LOADFROM)) {
                String loadFrom = _commandBar.getSearchStr();
                executeLoadFrom(loadFrom);
            }
        } else {
            _commandBar.onKeyReleased();
        }
        processControls(event);
        focus();
    }

```
###### src\userinterface\PrimaryUserInterface.java
``` java
    /**
     * add a task into the system and display the changes in the selected view.
     * 
     * @param task
     */
    private void executeAdd(ArrayList<TaskEntity> tasks, String rawInput) {
        ResultSet resultSet;
        String taskName = tasks.get(0).getName();
        if (tasks.size() > 0) {
            if (tasks.get(0) != null) {
                resultSet = uiController.addTask(tasks.get(0), rawInput, true);
                if (resultSet.isSuccess()) {
                    resetCommandInput();
                }
                _commandBar.showFeedBackMessage(COMMAND.ADD, resultSet, taskName);
            }
        }
    }

    /**
     * delete task from the system.
     * 
     * @param taskToCheck.
     */
    private void executeDelete(String id, String rawString) {
        ResultSet resultSet = null;
        if (id != null) {
            resultSet = uiController.deleteTask(id, rawString, true);
            if (resultSet != null) {
                if (resultSet.isSuccess()) {
                    resetCommandInput();
                }
            }
        }
        _commandBar.showFeedBackMessage(COMMAND.DELETE, resultSet, "ID" + id);
    }

    /**
     * Modify a task, if task has not been retrieved, will display task to
     * modify.
     * 
     * @param taskToCheck
     */
    private void executeModify(String id) {
        if (id != null) {
            int indexToModify = TaskUtils.convertStringToInteger(id);
            ArrayList<TaskEntity> tasks = _commandBar.getTasksPartialInput();
            if (indexToModify != -1) {
                if (tasks.size() == 1) {
                    executeModify(indexToModify, tasks.get(0), _commandBar.getFullInput());
                } else {
                    getItemToModify(indexToModify);
                }
            }
        } else {
            _commandBar.showFeedBackMessage(COMMAND.EDIT, null, null);
        }
    }

    private void executeModify(int indexToModify, TaskEntity taskEntity, String rawString) {
        ResultSet resultSet = uiController.modifyTask(indexToModify, taskEntity, rawString, true);
        if (resultSet.isSuccess()) {
            resetCommandInput();
        }
        _commandBar.showFeedBackMessage(COMMAND.EDIT, resultSet, Integer.toString(indexToModify));
    }

    /**
     * Retrieve task base on indexToModify and display task in the command bar
     * for modification.
     * 
     * @param indexToModify
     */
    private void getItemToModify(int indexToModify) {
        String setString = uiController.getTaskToEditString(indexToModify);
        if (setString != null) {
            _commandBar.addToFullInput(setString);
            _commandBar.onKeyReleased();
        } else {
            _commandBar.showFeedBackMessage(COMMAND.EDIT, null, Integer.toString(indexToModify));
        }

    }

    /**
     * Jump to index.
     * 
     * @param indexToJump
     *            : base36 format
     * @return boolean, true if value found, false it value not found
     */
    private void executeJump() {
        ResultSet resultSet = new ResultSet();
        resultSet.setFail();
        resultSet.setIndex(TYPE_2);

        String indexToJump = _commandBar.getId();
        if (indexToJump != null) {
            boolean isSuccess = uiController.jumpToIndex(indexToJump);
            if (isSuccess) {
                resetCommandInput();
            } else {
                resultSet.setIndex(TYPE_1);
                _commandBar.showFeedBackMessage(COMMAND.JUMP, resultSet, indexToJump);
            }
        } else {
            _commandBar.showFeedBackMessage(COMMAND.JUMP, resultSet, indexToJump);
        }
    }

    /**
     * Search base on the search string input.
     * 
     * @param stringToSearch
     */
    private void executeSearch(String stringToSearch, String rawString) {
        ResultSet resultSet = uiController.executeSearch(stringToSearch, rawString, true);
        if (resultSet.isSuccess()) {
            resetCommandInput();
        }
        _commandBar.showFeedBackMessage(COMMAND.SEARCH, resultSet, null);
    }

    /**
     * Link param 1 to param 2 with param 1 as project head.
     * 
     * @param indexZZ1
     * @param indexZZ2
     */
    private void executeLink(String indexZZ1, String indexZZ2, String rawString) {
        if (indexZZ1 != null && indexZZ2 != null) {
            ResultSet resultSet = uiController.link(indexZZ1, indexZZ2, rawString, true);
            if (resultSet != null) {
                if (resultSet.isSuccess()) {
                    resetCommandInput();
                }
            }
            _commandBar.showFeedBackMessage(COMMAND.LINK, resultSet, null);
        } else {
            _commandBar.showFeedBackMessage(COMMAND.LINK, null, null);
        }
    }

    /**
     * mark the selected task as complete.
     * 
     * @param indexZZ
     */
    private void executeMarkComplete(String indexZZ, String rawString) {
        if (indexZZ != null) {
            ResultSet resultSet = uiController.markAsCompleted(indexZZ, rawString, true);
            if (resultSet.isSuccess()) {
                resetCommandInput();
            }
            _commandBar.showFeedBackMessage(COMMAND.DONE, resultSet, indexZZ);
        } else {
            _commandBar.showFeedBackMessage(COMMAND.DONE, null, indexZZ);
        }
    }

    private void executeChangeSaveDir(String stringToSave) {
        ResultSet resultSet = uiController.changeSaveDir(stringToSave);
        if (resultSet.isSuccess()) {
            resetCommandInput();
        }
        _commandBar.showFeedBackMessage(COMMAND.SAVETO, resultSet, null);
    }

    private void executeUndo() {

        ResultSet resultSet = uiController.undoLastCommand();
        if (resultSet.isSuccess()) {
            resetCommandInput();
        }
        _commandBar.showFeedBackMessage(COMMAND.UNDO, resultSet, null);
    }

    private void executeLoadFrom(String loadFrom) {
        ResultSet resultSet = uiController.processLoadFrom(loadFrom);
        if (resultSet != null) {
            if (resultSet.isSuccess()) {
                resetCommandInput();
            }
        }
        _commandBar.showFeedBackMessage(COMMAND.LOADFROM, resultSet, loadFrom);
    }

```
###### target\classes\red.css
``` css
.cssLabels,.cssLabelsDescription,.cssLabelsDetails,.cssLabelsFloatingBar,.cssLabelsFloatingTaskInterface,
.cssLabelsSearchView, .cssLabelsCommandBar{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-fill:rgba(0.0,0.0,0.0,1.0);
}

#cssCommandMainUserInput {
    -fx-background-color: -fx-control-inner-background;
    -fx-font: 12.0px "Arial";
}

#commandText {
	-fx-font: 12.0px "Arial";
}

/* Help Screen */

#cssHelpScreenRoot{
	-fx-background-color: rgba(255.0,255.0,255.0,0.5);
}

#cssHelpComponentHighLighter{
	-fx-background-color: rgba(0.0,0.0,0.0,0.1);
	-fx-border-width: 1.0; 
	-fx-border-color: black;
}

#cssHelpComponentLinker{
	-fx-background-color: rgba(0.0,0.0,0.0,1.0);
}

#cssHelpComponentDescriptionBox{
	-fx-background-color: rgba(255.0,255.0,255.0,1.0);
	-fx-border-width: 1.0; 
	-fx-border-color: black;
}

#cssHelpTitle{
	-fx-text-fill: rgba(240.0,180.0,50.0,1.0);
	-fx-border-width: 0.0 0.0 1.0 0.0; 
	-fx-border-color: black;
}


#rootPane{
	-fx-border-color: #d3d3d3;
    -fx-border-width: 2.0px;
}

.controlFocus {
	-fx-border-color: #FF00FF;
	-fx-border-width: 2.0px;
}

/* css Task view  */
#cssTaskViewMainBackground{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
}

#cssTaskViewWeekSelected{
	-fx-background-color: rgba(240.0,240.0,255,1.0);
}

#cssTaskViewWeekUnSelected{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
}

#cssTaskViewDayBoxSelected{
}

#cssTaskViewDayBoxUnSelected{	
}

#cssTaskViewSelectedTask{
	-fx-background-radius: 20.0; 
	-fx-background-color:  rgba(255.0,178.5,178.5,1.0);
	-fx-background-insets: 1.0 5.0 1.0 5.0;
}

#cssTaskViewUnSelectedTask{
	-fx-background-color: rgba(255.0,255.0,255.0,0.5);
}

#cssTaskViewDayLabel{
	-fx-border-width: 0.0 0.0 1.0 0.0; 
	-fx-border-color: black;
}

/* css expanded panel */
#cssExpandedViewVBox{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
	-fx-background-radius: 7.0;
	-fx-background-insets: 0.0 5.0 0.0 5.0;
}

#cssExpandedViewVBoxSelected{
	-fx-background-color: rgba(255.0,178.5,178.5,1.0);
	-fx-background-radius: 7.0;
	-fx-background-insets: 0.0 5.0 0.0 5.0;
}

/* css description panel */

#cssRootDescriptionViewMainBackground{
	-fx-background-color: rgba(255.0,255.0,255.0,0.9);
}

#cssDescriptionLabelSelected{
	-fx-background-color:rgba(255.0,178.5,178.5,1.0);
}

#cssDescriptionLabelUnSelected{
	-fx-background-color:rgba(255.0,255.0,255.0,0.9);
}

/* Detail Componenet CSS */

#cssDetailComponentRoot{
	-fx-background-color: rgba(225.0,225.0,255.0,0.7),rgba(225.0,225.0,255.0,0.95);
}

#cssDetailComponentRootAssociation{
	-fx-background-color:rgba(225.0,225.0,255.0,0.7)rgba(225.0,225.0,255.0,0.7),rgba(255.0,255.0,255.0,0.7),rgba(225.0,225.0,255.0,0.7);
	-fx-background-insets: 0.0,2.0,2.0;
}

#cssDetailComponentEmptyTitle {
	-fx-background-color: rgba(138.0,138.0,255,1.0);	
}

#cssDetailComponentProjectHeadBox{
	-fx-background-color: rgba(255.0,255.0,255.0,0.95);
}

#cssDetailAssociationListBox{
	-fx-background-color: rgba(255.0,255.0,255.0,0.0);
	-fx-background-insets: 0.0 0.0 0.0 0.0;
}


/* Floating Bar CSS */

#cssRootFloatingBar{
	-fx-background-color: rgba(200.0,200,255,1.0), rgba(225.0,225.0,255.0,0.7);
	-fx-background-insets: 0.0,0.0 10.0 0.0 10.0;
}

#cssFloatingBarContentArea{
	-fx-border-width:  0.0 0.0 0.0 1.0; 
	-fx-border-color: black;
}

#cssFloatingBarTitleLabel{

}

/* Floating Task View CSS */

#cssRootFloatingTaskView{
	-fx-background-color: rgba(225.0,225.0,255.0,1.0,1.0)rgba(225.0,225.0,255.0,1.0);
	-fx-background-insets: 0.0,5.0;
}

#cssFloatingTaskViewTitle{
	-fx-background-color: rgba(159.0, 138.0, 232.0,1.0);
}

#cssFloatingTaskViewSelected{
	-fx-background-radius: 20.0; 
	-fx-background-color:  rgba(255.0,178.5,178.5,1.0);
	-fx-background-insets: 1.0 7.0 1.0 7.0;
}

/* Search View CSS */
#cssRootSearchView{
	-fx-background-color: rgba(225.0,225.0,255.0,1.0,1.0)rgba(225.0,225.0,255.0,1.0);
	-fx-background-insets: 0.0,5.0;
}

#cssSearchTitle{
	-fx-background-color: rgba(138.0, 159.0, 232.0,1.0);
}

#cssSearchSelected{
	-fx-background-color: rgba(255.0,178.5,178.5,1.0);
	-fx-background-radius: 20.0; 
	-fx-background-insets: 1.0 7.0 1.0 7.0;
}

/* CommandsBar CSS */

#cssCommandBarMainStructure{
	-fx-background-color: rgba(255.0,255.0,255.0,0.8);
}

#cssCommandBarContentZone{
	-fx-border-width: 1.0 0.0 1.0 0.0; 
	-fx-border-color: black;
}


#cssCommandBarfeedback_normal{
	-fx-background-color: rgba(23.0, 219.0, 36.0, 1.0);
}

#cssCommandBarfeedback_conflict{
	-fx-background-color: rgba(255.0, 208.0, 42.0, 1.0);
}

#cssCommandBarfeedback_past{
	-fx-background-color: rgba(255.0, 208.0, 42.0, 1.0);
}

#cssCommandBarfeedback_conflict_past{
	-fx-background-color: rgba(255.0, 208.0, 42.0, 1.0);
}

#cssCommandBarfeedback_error{
	-fx-background-color: rgba(255.0, 42.0, 44.0,1.0);
}

/* Commands CSS */

#cssCommandBarAdd {
	-fx-background-color: rgba(72.0, 238.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarInvalid{
	-fx-text-fill:rgba(255.0,0.0,0.0,1.0);
}

#cssCommandBarDelete {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(56.0, 238.0, 223.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarEdit {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(56.0, 163.0, 238.0, 0.5);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarLink {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(163.0, 238.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandBarDone {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 132.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandTitle {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(202.0, 247.0, 140.0, 1.0);
	-fx-background-radius: 7.0; 
}
#cssCommandDate {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(247.0, 140.0, 149.0, 1.0);
	-fx-background-radius: 7.0; 
}
#cssCommandHashTag{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(247.0, 238.0, 140.0, 1.0);
	-fx-background-radius: 7.0; 
}

#cssCommandID {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(247.0, 184.0, 140.0, 1.0);
	-fx-background-radius: 7.0; 
}
#cssCommandDescription {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(140.0, 202.0, 247.0, 1.0);
	-fx-background-radius: 7.0; 
}

#cssCommandJump {
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 56.0, 163.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandSearch{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(132.0, 56.0, 238.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandExit{
	-fx-text-fill:white;
	-fx-background-color: rgba(238.0, 56.0, 72.0, 1.0);
	-fx-font-weight:bold;
	 -fx-font: 20.0px "Arial";
}

#cssCommandFloat{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 132.0, 56.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandShow{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(223.0, 56.0, 238.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandHide{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(223.0, 56.0, 238.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandMain{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 56.0, 163.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandSaveDir{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(183.0, 220.0, 40.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandUndo{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(240.0, 180.0, 20.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}

#cssCommandOther{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
}

#cssCommandTheme{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(238.0, 120.0, 163.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
#cssCommandLoadFrom{
	-fx-text-fill:rgba(0.0,0.0,0.0,1.0);
	-fx-background-color: rgba(183.0, 220.0, 40.0, 1.0);
	-fx-font-weight:bold;
	-fx-background-radius: 7.0; 
}
```
